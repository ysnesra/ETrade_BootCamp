@{
    ViewData["Title"] = "Employee Ajax";
}


<div class="text-center">
    <h1 class="display-4">@ViewData["Title"] List</h1>
</div>


<div class="row mb-3">
    <div class="col">

        <a asp-action="AddNewEmployeePartial" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalAdd" data-ajax="true" data-ajax-method="get"
           data-ajax-update="#modalAddContent"><i class="fa fa-plus me-2"></i>Personel Ekle</a>   @*Bu butona basıldığında modal penceresi açılacak*@

        @*Reload a tıkladığında ajax ile istek atıcaz.sayfa yenilencek*@
        <a asp-action="EmployeeListPartial" id="refresh" data-ajax="true" data-ajax-method="get"
           data-ajax-update="#panel" class="btn btn-secondary btn-sm"><i class="fa fa-sync-alt me-2"></i>Reload</a>
    </div>
</div>


<div class="row mb-3">
    <div class="col">
        <div id="panel">
            @*id sini kullanarak Div'in' içini partialview ile dolduruyoruz.*@
        </div>
    </div>
</div>

<!-- Modal_Add -->
<div class="modal fade" id="modalAdd" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div id="modalAddContent" class="modal-content">
            @*Modal ın içeriği partialview ile dolacak//_AddNewEmployeePartialdan gelecek*@
        </div>
    </div>
</div>

<!-- Modal_Edit -->
<div class="modal fade" id="modalEdit" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div id="modalEditContent" class="modal-content">
            @*Modal ın içeriği partialview ile dolacak//_AddNewEmployeePartialdan gelecek*@
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js"></script>

    <script>
        $(function () {      //sayfa yüklendiğinde; Reload butonuna tıkla(tetikle)
            refresh.click();
        });
    </script>
}